I"t<p>有时候需要比较两个分支的不同，这时如果提交到 github ，那么默认就可以看到。但是这时因为没有ide的高亮或者其他的功能，看起来觉得不好。
默认的 VisualStudio 比较文件比 github 的用起来好很多，那么如何使用 VisualStudio 作为代码比较？
<!-- 标签：git --></p>

<!--more-->

<!-- CreateTime:2018/8/10 19:16:52 -->

<p>尝试打开一下 VS ，随意进行对比两个文件。需要找到一个工具，这个工具放在 TeamFoundation 文件夹里，我这里是 VisualStudio 2017 于是我的路径是<code class="language-plaintext highlighter-rouge">C:\Program Files (x86)\Microsoft Visual Studio\2017\Enterprise\Common7\IDE\CommonExtensions\Microsoft\TeamFoundation\Team Explorer\vsDiffMerge.exe</code> 可以打开自己的文件夹进行搜索，找到这个软件。</p>

<p>然后从 cmd 打开，输入下面的代码</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">vsDiffMerge</span><span class="p">.</span><span class="n">exe</span> <span class="err">文件</span><span class="m">1</span> <span class="err">文件</span><span class="m">2</span>
</code></pre></div></div>

<p>就可以看到，软件从 VisualStudio 进行对比</p>

<p><img src="http://image.acmx.xyz/34fdad35-5dfe-a75b-2b4b-8c5e313038e2%2F2017118185826.jpg" alt="" /></p>

<p><img src="http://image.acmx.xyz/34fdad35-5dfe-a75b-2b4b-8c5e313038e2%2F201711819136.jpg" alt="" /></p>

<p>如果使用的是 Powershell ，那么可以输入 cmd 进入命令行</p>

<p>可以看到对比文件很好用，那么在 git 使用的默认比较分支是<code class="language-plaintext highlighter-rouge">git difftool dev release</code> 就可以比较两个分支，但是如何使用 vs 进行比较？</p>

<p>使用的方法实际上只需要修改一个文件</p>

<p>打开 .git 的 config 在文件最后加入下面的代码</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="n">diff</span><span class="p">]</span>
    <span class="n">tool</span> <span class="p">=</span> <span class="n">vsdiffmerge</span>
<span class="p">[</span><span class="n">difftool</span><span class="p">]</span>
      <span class="n">prompt</span> <span class="p">=</span> <span class="k">true</span>
<span class="p">[</span><span class="n">difftool</span> <span class="s">"vsdiffmerge"</span><span class="p">]</span>
      <span class="n">cmd</span> <span class="p">=</span> <span class="err">\</span><span class="s">"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Enterprise\\Common7\\IDE\\CommonExtensions\\Microsoft\\TeamFoundation\\Team Explorer\\vsDiffMerge.exe\" \"$LOCAL\" \"$REMOTE\" //t
</span>      <span class="n">keepbackup</span> <span class="p">=</span> <span class="k">false</span>
      <span class="n">trustexistcode</span> <span class="p">=</span> <span class="k">true</span>
<span class="p">[</span><span class="n">merge</span><span class="p">]</span>
      <span class="n">tool</span> <span class="p">=</span> <span class="n">vsdiffmerge</span>
<span class="p">[</span><span class="n">mergetool</span><span class="p">]</span>
      <span class="n">prompt</span> <span class="p">=</span> <span class="k">true</span>
<span class="p">[</span><span class="n">mergetool</span> <span class="s">"vsdiffmerge"</span><span class="p">]</span>
      <span class="n">cmd</span> <span class="p">=</span> <span class="err">\</span><span class="s">"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Enterprise\\Common7\\IDE\\CommonExtensions\\Microsoft\\TeamFoundation\\Team Explorer\\vsDiffMerge.exe\" \"$LOCAL\" \"$REMOTE\" //t //m
</span>      <span class="n">keepbackup</span> <span class="p">=</span> <span class="k">false</span>
      <span class="n">trustexistcode</span> <span class="p">=</span> <span class="k">true</span>
</code></pre></div></div>

<p>其中的文件路径需要使用自己安装的。</p>

<p>如果找不到文件，可以使用在仓库的git的命令行输入下面代码</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">git</span> <span class="n">config</span> <span class="p">--</span><span class="k">global</span> <span class="n">difftool</span><span class="p">.</span><span class="n">visualstudio</span><span class="p">.</span><span class="n">cmd</span> <span class="s">"'C:/Program Files (x86)/Microsoft Visual Studio/2017/Enterprise/Common7/IDE/CommonExtensions/Microsoft/TeamFoundation/Team Explorer/vsdiffmerge.exe' \$LOCAL \$REMOTE Source Target //ignorespace //t"</span>

<span class="n">git</span> <span class="n">config</span> <span class="p">--</span><span class="k">global</span> <span class="n">mergetool</span><span class="p">.</span><span class="n">visualstudio</span><span class="p">.</span><span class="n">cmd</span> <span class="s">"'C:/Program Files (x86)/Microsoft Visual Studio/2017/Enterprise/Common7/IDE/CommonExtensions/Microsoft/TeamFoundation/Team Explorer/vsdiffmerge.exe' \$LOCAL \$REMOTE \$BASE \$MERGED //ignorespace //m"</span>  
<span class="n">git</span> <span class="n">config</span> <span class="p">--</span><span class="k">global</span> <span class="n">mergetool</span><span class="p">.</span><span class="n">visualstudio</span><span class="p">.</span><span class="n">trustExitCode</span> <span class="k">true</span>

<span class="n">git</span> <span class="n">config</span> <span class="p">--</span><span class="k">global</span> <span class="n">diff</span><span class="p">.</span><span class="n">tool</span> <span class="n">visualstudio</span>  
<span class="n">git</span> <span class="n">config</span> <span class="p">--</span><span class="k">global</span> <span class="n">merge</span><span class="p">.</span><span class="n">tool</span> <span class="n">visualstudio</span> 
</code></pre></div></div>

<p>需要修改自己的文件所在，一般可以搜索找到。</p>

<p>如果想使用一个简单的方法，可以打开 VisualStudio 团队设置，然后设置使用 VisualStudio</p>

<p><img src="http://image.acmx.xyz/623b6fff-6d11-0112-9b3c-6b76f86a3bea%2F2017111423046.jpg" alt="" /></p>

<h2 id="忽略对比的文件夹">忽略对比的文件夹</h2>

<p>如果在 git 提交中，存在某个文件都是资源，在对比中，不停需要去看这些文件，感觉想把git卸了。但是git那么厉害，是不是有一个方法可以做到，忽略某个文件夹的更改。是的，下面我来告诉大家如何忽略这个文件夹。</p>

<p>例如需要忽略的文件是 <code class="language-plaintext highlighter-rouge">c:\code\dx\resource</code> 项目所在文件夹是<code class="language-plaintext highlighter-rouge">c:\code\dx</code>，dx就是我的名字，所以项目是假的。</p>

<p>使用 git 输入下面的命令就可以忽略 resource 文件夹</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">git</span> <span class="n">difftool</span> <span class="n">relase</span> <span class="n">dev</span> <span class="p">--</span> <span class="p">.</span> <span class="err">'</span><span class="p">:!</span><span class="n">resource</span><span class="err">'</span>

</code></pre></div></div>

<p>这个命令需要注意，<code class="language-plaintext highlighter-rouge">-- . ':!要忽略的文件夹'</code> 除了中文，其它的都是需要添加的。</p>

:ET